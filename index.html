<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<script src="https://content.jwplatform.com/libraries/X1MbsDjO.js"></script>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="myElement"></div>

</body>
<script>
var playerInstance = jwplayer("myElement");
playerInstance.setup({
    playlist: {
      file: 'https://cdn.jwplayer.com/v2/media/iSayM6GK', 
      preload: 'metadata',
    },
    // {
    //     file: "https://content.jwplatform.com/manifests/d305hoQg.m3u8",
    //     mediaid: "d305hoQg",
    //     autostart: "viewable",  OR TRUE.  EITHER WILL WORK IN THIS INSTANCE
    //     preload: "metadata",
    //     image: "http://content.jwplatform.com/thumbs/d305hoQg-480.jpg"
    // },
    autostart: "viewable",   
    advertising: {
      client: "vast",
      schedule: {
        tenSecondRoll: {
          tag: "https://playertest.longtailvideo.com/vast-30s-ad.xml",
          offset: 10
        }
      }
    }
});

var object = playerInstance.getPlaylist();
    console.log(object);
    playerInstance.on('meta', function(e) {
      console.log(e);
    });



//     playerInstance.on('meta', function(e) {
//         var m = e.metadata.cuepoint;
//         console.log(m);
//         console.log(metadata);
//         console.log(e.metadata);
// });


// FUNCTIONS TO USE IF METADATA EXTRACTION WAS WORKING
// playerInstance.on('meta', function(e) {
//    var cuepoint = e.metadata.cuepoint;
//    if (e.metadata) {
//         playerInstance.on('time', function(e) {
//           if (e.position == cuepoint) {
//             playerInstance.playAd("https://playertest.longtailvideo.com/vast-30s-ad.xml");
//           }
// });

// playerInstance.on('meta', function(e) {
//  if (e.metadata) {
//    var cuepoint = e.metadata.cuepoint;
//  }
// });
//    console.log(cuepoint);
//    playerInstance.on('cuepoint', playAd("https://playertest.longtailvideo.com/vast-30s-ad.xml"))



</script>
</html>